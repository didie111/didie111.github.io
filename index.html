<!DOCTYPE html>
<html>
<head>
    <title>ì‹¤ì‹œê°„ RSI ëª¨ë‹ˆí„°ë§</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { max-width: 800px; margin: 20px auto; padding: 20px; }
        .alert { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸ’° ë¹„íŠ¸ì½”ì¸ RSI í˜„í™©</h1>
    <div id="chart"></div>
    <div id="status"></div>

    <script>
        // 5ë¶„ë§ˆë‹¤ ì°¨íŠ¸ ìë™ ê°±ì‹ 
        function updateChart() {
            fetch('https://didie111.github.io/rsi_chart.html')
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const plotlyDiv = doc.querySelector('.plotly-graph-div');
                    document.getElementById('chart').innerHTML = plotlyDiv.innerHTML;
                    
                    const latestRSI = parseFloat(
                        plotlyDiv.querySelector('.trace.scatter').__data__.y.slice(-1)
                    document.getElementById('status').innerHTML = 
                        `<p>ìµœì¢… ì—…ë°ì´íŠ¸: ${new Date().toLocaleString()}</p>
                         <p class="${latestRSI > 70 ? 'alert' : ''}">í˜„ì¬ RSI: ${latestRSI.toFixed(2)}</p>`;
                });
        }
        
        // ì´ˆê¸° ì‹¤í–‰ + 5ë¶„ ê°„ê²© ì‹¤í–‰
        updateChart();
        setInterval(updateChart, 300000);
    </script>
</body>
</html>
